/**
 * Shared Base CSS - 感染症共通基本スタイル
 * 全感染症プロジェクト共通のベーススタイル定義
 */

/* ===== CSS変数定義 ===== */
:root {
    /* 感染症別カラー（JavaScriptで動的設定） */
    --disease-color-primary: #ff6b6b;    /* デフォルト: AIDS */
    --disease-color-secondary: #ff8e8e;
    --disease-color-accent: #e85555;
    
    /* システム統合カラー */
    --color-primary: var(--disease-color-primary);
    --color-secondary: var(--disease-color-secondary);
    --color-accent: var(--disease-color-accent);
    
    /* レイアウト */
    --header-height: 60px;
    --content-max-width: 1200px;
    
    /* アニメーション（JavaScriptで動的設定） */
    --animation-fast: 150ms;
    --animation-default: 500ms;
    --animation-slow: 1200ms;
    
    /* イージング */
    --easing-linear: linear;
    --easing-ease: ease;
    --easing-ease-in-out: ease-in-out;
    
    /* z-index */
    --z-background: -1;
    --z-default: 1;
    --z-sticky: 10;
    --z-dropdown: 100;
    --z-modal: 1000;
    --z-tooltip: 1050;
}

/* ===== 共通基本スタイル ===== */

/* リセット */
* {
    box-sizing: border-box;
}

/* チャート・地図の固定背景 */
#fixed-background {
    z-index: var(--z-background);
}

#chart-container, #map-container, #image-container {
    z-index: var(--z-default);
}

/* スクロールコンテンツ */
#scroll-content {
    z-index: var(--z-sticky);
}

/* ===== 感染症テーマ対応スタイル ===== */

/* ヘッダーのナビゲーション現在項目 */
.site-nav .current {
    color: var(--color-primary) !important;
    font-weight: bold;
}

/* ホバー効果 */
.site-nav a:hover {
    color: var(--color-primary) !important;
    transition: color var(--animation-fast) var(--easing-ease);
}

/* ステップテキストボックス */
.step .text-box {
    border-left: 4px solid var(--color-primary);
}

/* チャート要素（D3.jsで使用） */
.chart-primary {
    fill: var(--color-primary);
    stroke: var(--color-primary);
}

.chart-secondary {
    fill: var(--color-secondary);
    stroke: var(--color-secondary);
}

.chart-accent {
    fill: var(--color-accent);
    stroke: var(--color-accent);
}

/* ===== アニメーション共通クラス ===== */

.fade-in {
    animation: fadeIn var(--animation-default) var(--easing-ease);
}

.fade-out {
    animation: fadeOut var(--animation-default) var(--easing-ease);
}

.scale-in {
    animation: scaleIn var(--animation-default) var(--easing-ease);
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

@keyframes scaleIn {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

/* ===== レスポンシブ共通定義 ===== */

@media (max-width: 768px) {
    :root {
        --header-height: 50px;
        --content-max-width: 100%;
    }
    
    .site-nav ul {
        flex-direction: column;
        gap: 0.5rem;
    }
}

@media (max-width: 480px) {
    .step .max-w-lg {
        max-width: 90%;
        margin: 0 auto;
        padding: 1rem;
    }
}

/* ===== アクセシビリティ対応 ===== */

/* 動きを減らす設定の場合 */
@media (prefers-reduced-motion: reduce) {
    :root {
        --animation-fast: 0ms;
        --animation-default: 0ms;
        --animation-slow: 0ms;
    }
    
    .fade-in, .fade-out, .scale-in {
        animation: none;
    }
}

/* ===== デバッグ用スタイル ===== */

.debug-info {
    position: fixed;
    top: var(--header-height);
    right: 10px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 10px;
    font-size: 12px;
    z-index: var(--z-tooltip);
    display: none;
}

body.debug .debug-info {
    display: block;
}